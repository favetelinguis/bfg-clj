#+title: Readme
#+startup: inlineimages

Run tests with
clj -X:test

run program
clj -m main

#+NAME: Merge protfolio, account and order manager
#+begin_src plantuml :file ./images/signalmerged.png
title All event flows

Stream->Market: CHART
Stream->Market: MARKET
Stream->Market: UNSUBSCRIBE
Stream->Market: SUBSCRIBE
Stream->Order: TRADE
Stream->Order: ACCOUNT
Market->Strategy1: <epic>
Strategy1->Order: SIGNAL
Order->CommandExecutor: UPDATE-ORDER
CommandExecutor->Order: ORDER-FAILURE
#+end_src

#+RESULTS: Merge protfolio, account and order manager
[[file:./images/signalmerged.png]]


#+NAME: Order open to close flow
#+begin_src plantuml :file ./images/order.png
title Order open to exit flow

[*] --> :order_open_initiated : SIGNAL
state c <<choice>>
:order_open_initiated --> c
c --> :order_success : CONFIRMS|ACCEPTED
c --> :order_failure : ORDER-FAILURE
c --> :order_failure : CONFIRMS|REJECTED
:order_success --> :order_filled : OPU|FILLED
:order_success --> [*] : ::e/exit
#+end_src

#+RESULTS: Order open to close flow
[[file:./images/order.png]]
